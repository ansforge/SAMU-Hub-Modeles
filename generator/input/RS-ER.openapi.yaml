openapi: 3.0.0
components:
  schemas:
    engagementRessourcesWrapper:
      type: object
      required:
      - engagementRessources
      properties:
        engagementRessources:
          $ref: '#/components/schemas/engagementRessources'
    engagementRessources:
      $id: classpath:/json-schema/schema#
      x-id: RS-ER.schema.json#
      example: example.json#
      type: object
      title: engagementRessources
      required:
      - caseId
      - mobilizedResource
      properties:
        caseId:
          type: string
          title: Identifiant affaire/dossier
          x-health-only: false
          x-cols: 6
          example: example.json#/caseId
          description: "A valoriser avec l'identifiant partag\xE9 de l'affaire/dossier,\
            \ g\xE9n\xE9r\xE9 une seule fois par le syst\xE8me du partenaire qui recoit\
            \ la primo-demande de secours (cr\xE9ateur du dossier). \nIl est valoris\xE9\
            \ comme suit lors de sa cr\xE9ation : \n{pays}.{domaine}.{organisation}.{senderCaseId}\n\
            \nIl doit pouvoir \xEAtre g\xE9n\xE9r\xE9 de fa\xE7on d\xE9centralis\xE9\
            e et ne pr\xE9senter aucune ambigu\xEFt\xE9.\n Il doit \xEAtre unique\
            \ dans l'ensemble des syst\xE8mes : le num\xE9ro de dossier fourni par\
            \ celui qui g\xE9n\xE8re l'identifiant partag\xE9 doit donc \xEAtre un\
            \ num\xE9ro unique dans son syst\xE8me."
          pattern: ^fr(\.[\w-]+){3,4}$
          examples:
          - fr.health.samu440.DRFR15440241550012
        mobilizedResource:
          type: array
          items:
            $ref: '#/components/schemas/resource'
          minItems: 1
      additionalProperties: false
    resource:
      type: object
      title: "Ressource engag\xE9e"
      x-display: expansion-panels
      x-health-only: false
      required:
      - datetime
      - vehiculeType
      properties:
        datetime:
          type: string
          title: "Date/heure de d\xE9clenchement"
          x-health-only: false
          x-cols: 6
          example: example.json#/mobilizedResource/0/datetime
          description: A valoriser avec la date et heure d'engagement de la ressource/du
            vecteur
          pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}$
          format: date-time
          examples:
          - '2022-09-27T08:23:34+02:00'
        vehiculeType:
          type: string
          title: Type de vecteur
          x-health-only: false
          x-cols: 6
          example: example.json#/mobilizedResource/0/vehiculeType
          description: "A valoriser avec le type de vecteur mobilis\xE9 : cf. nomenclature\
            \ associ\xE9e"
          enum:
          - AASC
          - VLSC
          - VPSP
          - AUTRESC
          - AUTREVEC
          - TAXI
          - TRANSP
          - TRAIN
          - AVION
          - PERSO
          - APIED
          - AUTRE
          - AUTRETRA
          - FSI
          - HELIFSI
          - VLFSI
          - FFSI
          - VHFSI
          - LIB
          - MEDV
          - INF
          - AUTREPRO
          - SIS
          - VSAV
          - GRIMP
          - VPL
          - SRSIS
          - FEUSIS
          - VPMA
          - VCH
          - VR
          - PCSIS
          - VLISP
          - VLMSP
          - VLCG
          - VLSIS
          - DRAGON
          - AVSC
          - MOYSSE
          - AUTRESIS
          - NAVISIS
          - SMUR
          - VLM
          - VL
          - PSM1
          - PSM2
          - PSM3
          - PSMP
          - VPC
          - AR
          - AR-BAR
          - AR-PED
          - HELISMUR
          - HELISAN
          - AVSMUR
          - AVSAN
          - NAVISMUR
          - TSU
          - VSL
          - AMB-GV
          - AMB-PV
          - AMB-BAR
          - AMB
          examples:
          - VLM
        name:
          type: string
          title: Nom du vecteur
          x-health-only: false
          x-cols: 6
          example: example.json#/mobilizedResource/0/name
          description: "A valoriser avec le nom donn\xE9 \xE0 la ressource par l\u2019\
            organisation d\u2019appartenance"
          examples:
          - SMUR 123
        team:
          $ref: '#/components/schemas/team'
        freetext:
          type: array
          x-health-only: false
          items:
            type: string
            title: Commentaires
            x-health-only: false
            x-cols: 6
            example: example.json#/mobilizedResource/0/freetext/0
            description: "Texte libre permettant de passer toute autre information\
              \ sur la ressource (\xE9quipements suppl\xE9mentaires / sp\xE9cifiques,\
              \ particularit\xE9s du vecteur, etc.)"
            examples:
            - "SMUR p\xE9diatrique"
      additionalProperties: false
      example: example.json#/mobilizedResource/0
    team:
      type: object
      title: Equipe vecteur
      x-display: expansion-panels
      x-health-only: false
      required: []
      properties:
        teamCare:
          type: string
          title: Type
          x-health-only: false
          x-cols: 6
          example: example.json#/mobilizedResource/0/team/teamCare
          description: "A valoriser avec le  niveau de m\xE9dicalisation du vecteur.\
            \ Cf. nomenclature associ\xE9e"
          enum:
          - MED
          - PARAMED
          - SECOURS
          examples:
          - MED
        name:
          type: string
          title: Nom
          x-health-only: false
          x-cols: 6
          example: example.json#/mobilizedResource/0/team/name
          description: "A valoriser avec le nom de l'\xE9quipe \xE0 bord du vecteur\
            \ (celui communiqu\xE9 par l'organisation \xE0 laquelle l'\xE9quipe appartient)"
          examples:
          - Equipe A
      additionalProperties: false
      example: example.json#/mobilizedResource/0/team
      examples:
      - teamCare: MED
        name: Equipe A
