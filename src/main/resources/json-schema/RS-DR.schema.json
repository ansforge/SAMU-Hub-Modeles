{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "classpath:/json-schema/schema#",
    "x-id": "RS-DR.schema.json#",
    "version": "24.07.18",
    "example": "example.json#",
    "type": "object",
    "title": "resourcesRequest",
    "required": [
        "caseId",
        "request"
    ],
    "properties": {
        "caseId": {
            "type": "string",
            "title": "Identifiant affaire/dossier",
            "x-health-only": false,
            "x-cols": 6,
            "example": "example.json#/caseId",
            "description": "Identifiant partag\u00e9 de l'affaire/dossier, g\u00e9n\u00e9r\u00e9 une seule fois par le syst\u00e8me du partenaire qui recoit la primo-demande de secours (cr\u00e9ateur du dossier). \nIl est valoris\u00e9 comme suit lors de sa cr\u00e9ation : \n{pays}.{domaine}.{organisation}.{senderCaseId}\n\nIl doit pouvoir \u00eatre g\u00e9n\u00e9r\u00e9 de fa\u00e7on d\u00e9centralis\u00e9e et ne pr\u00e9senter aucune ambigu\u00eft\u00e9.\n Il doit \u00eatre unique dans l'ensemble des syst\u00e8mes : le num\u00e9ro de dossier fourni par celui qui g\u00e9n\u00e8re l'identifiant partag\u00e9 doit donc \u00eatre un num\u00e9ro unique dans son syst\u00e8me."
        },
        "request": {
            "$ref": "#/definitions/request"
        }
    },
    "definitions": {
        "request": {
            "type": "object",
            "title": "Demande de ressource",
            "x-display": "expansion-panels",
            "x-health-only": false,
            "required": [
                "requestId",
                "datetime",
                "purpose"
            ],
            "properties": {
                "requestId": {
                    "type": "string",
                    "title": "ID Demande partag\u00e9",
                    "x-health-only": false,
                    "x-cols": 6,
                    "example": "example.json#/request/requestId",
                    "description": "Identifiant unique partag\u00e9 de la demande de ressource,  g\u00e9n\u00e9r\u00e9 une seule fois par le syst\u00e8me du partenaire qui \u00e9met la demande \nIl est valoris\u00e9 comme suit lors de sa cr\u00e9ation : \n{orgID}.request.{ID unique de la demande dans le syst\u00e8me \u00e9metteur}\n\nOU - uniquement si un ID unique de la demande n'est pas disponible : \nOrgId \u00e9metteur}.request.{senderCaseId}.{num\u00e9ro d\u2019ordre chronologique}"
                },
                "datetime": {
                    "type": "string",
                    "title": "Date Heure de cr\u00e9ation de la demande",
                    "x-health-only": false,
                    "x-cols": 6,
                    "example": "example.json#/request/datetime",
                    "pattern": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}[\\-+]\\d{2}:\\d{2}",
                    "format": "date-time"
                },
                "convention": {
                    "type": "string",
                    "title": "Cadre conventionnel",
                    "x-health-only": false,
                    "x-cols": 6,
                    "example": "example.json#/request/convention",
                    "description": "D\u00e9crit le cadre conventionnel de la demande. Cf nomenclature associ\u00e9e",
                    "enum": [
                        "DRSIS",
                        "MISSION",
                        "ITSP",
                        "CARENCE",
                        "CONVENT",
                        "SPE",
                        "HORS",
                        "AUTRE1",
                        "AUTRE2",
                        "AUTRE3"
                    ]
                },
                "deadline": {
                    "type": "string",
                    "title": "D\u00e9lai souhait\u00e9",
                    "x-health-only": false,
                    "x-cols": 6,
                    "example": "example.json#/request/deadline",
                    "description": "D\u00e9lai d'intervention souhait\u00e9 (en minutes). "
                },
                "purpose": {
                    "type": "string",
                    "title": "Effet \u00e0 obtenir",
                    "x-health-only": false,
                    "x-cols": 6,
                    "example": "example.json#/request/purpose",
                    "description": "Motif de la demande de ressource aupr\u00e8s du partenaire, voir liste des effets \u00e0 obtenir identifi\u00e9s",
                    "enum": [
                        "SAP",
                        "REGUL",
                        "CUMP",
                        "SMUR",
                        "MG",
                        "PARAMED",
                        "SAMU",
                        "RELEVE",
                        "NOVI",
                        "TIH",
                        "BRANCARD",
                        "BARIA"
                    ]
                },
                "freetext": {
                    "type": "string",
                    "title": "Pr\u00e9cisions sur la demande",
                    "x-health-only": false,
                    "x-cols": 6,
                    "example": "example.json#/request/freetext",
                    "description": "Texte libre permettant de d\u00e9tailler la demande"
                }
            },
            "additionalProperties": false,
            "example": "example.json#/request"
        }
    },
    "additionalProperties": false
}