asyncapi: 2.5.0
info:
  title: Hub Sante AMQP API
  version: '0.9'
  description: "L'API Hub Sante AMQP permet le partage d'informations entre acteurs\
    \ du monde de la sant\xE9.\n"
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0
servers:
  remote:
    url: messaging.hub.esante.gouv.fr:5671
    protocol: amqps
    protocolVersion: 0-9-1
    description: "Instance \"bac \xE0 sable\" du Hub Sante d\xE9ploy\xE9e dans le\
      \ Cloud."
    security:
    - tlsAuth: []
  local:
    url: localhost:5671
    protocol: amqps
    protocolVersion: 0-9-1
    description: "Instance locale du Hub Sante port\xE9e par `minikube` dans le repo\
      \ du Hub"
    security:
    - tlsAuth: []
defaultContentType: application/json
channels:
  '{clientId}.message':
    description: "File sp\xE9cifique \xE0 chaque client pour la r\xE9ception de messages"
    parameters:
      clientId:
        $ref: '#/components/parameters/clientId'
    subscribe:
      summary: Message fonctionnel
      operationId: receiveMessage
      message:
        $ref: '#/components/messages/edxlMessage'
    publish:
      summary: Message fonctionnel
      operationId: publishMessage
      message:
        $ref: '#/components/messages/edxlMessage'
    bindings:
      amqp:
        is: routingKey
        exchange:
          name: hubsante
          type: topic
          durable: true
          autoDelete: false
          vhost: /
  '{clientId}.ack':
    description: "File sp\xE9cifique \xE0 chaque client pour la r\xE9ception des acquittements\
      \ de bonne r\xE9ception"
    parameters:
      clientId:
        $ref: '#/components/parameters/clientId'
    subscribe:
      summary: Acquittement fonctionnel
      operationId: receiveAck
      message:
        $ref: '#/components/messages/edxlMessage'
    publish:
      summary: "Acquittements de bonne r\xE9ception"
      operationId: publishAck
      message:
        $ref: '#/components/messages/edxlMessage'
    bindings:
      amqp:
        is: routingKey
        exchange:
          name: hubsante
          type: topic
          durable: true
          autoDelete: false
          vhost: /
  '{clientId}.info':
    description: "File sp\xE9cifique \xE0 chaque client pour la r\xE9ception des informations\
      \ compl\xE9mentaires li\xE9es au fonctionnement et aux \xE9changes port\xE9\
      s par le Hub Sant\xE9"
    parameters:
      clientId:
        $ref: '#/components/parameters/clientId'
    subscribe:
      summary: "Informations compl\xE9mentaires"
      operationId: receiveInfo
      message:
        $ref: '#/components/messages/edxlMessage'
    publish:
      summary: "Informations compl\xE9mentaires"
      operationId: publishInfo
      message:
        $ref: '#/components/messages/edxlMessage'
    bindings:
      amqp:
        is: routingKey
        exchange:
          name: hubsante
          type: topic
          durable: true
          autoDelete: false
          vhost: /
components:
  securitySchemes:
    tlsAuth:
      type: X509
      description: "Un certificat issu d'une AC valid\xE9e par le Hub est n\xE9cessaire\
        \ pour l'authentification mTLS"
  parameters:
    clientId:
      description: L'identifiant du client
      schema:
        type: string
  messages:
    edxlMessage:
      title: Message au standard EDXL
      summary: "Message au standard EDXL transportable par le Hub, comportant une\
        \ partie adressage et une partie contenu. La partie contenu peut respecter\
        \ diff\xE9rentes sp\xE9cifications fonctionnelles."
      payload:
        $ref: '#/components/schemas/EdxlMessage'
  schemas:
    EdxlMessage:
      properties:
        distributionID:
          type: string
        senderID:
          type: string
        dateTimeSent:
          type: string
          format: date-time
        dateTimeExpires:
          type: string
          format: date-time
        distributionStatus:
          $ref: '#/components/schemas/DistributionStatus'
        distributionKind:
          $ref: '#/components/schemas/DistributionKind'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        content:
          $ref: '#/components/schemas/Content'
      additionalProperties: false
      required:
      - distributionID
      - senderID
      - dateTimeSent
      - dateTimeExpires
      - distributionStatus
      - distributionKind
      - descriptor
      - content
    Content:
      properties:
        contentObject:
          $ref: '#/components/schemas/ContentObject'
      additionalProperties: false
      required:
      - contentObject
    ContentObject:
      oneOf:
      - $ref: '#/components/schemas/JsonContent'
      - $ref: '#/components/schemas/ContentXML'
    JsonContent:
      properties:
        JsonContent:
          $ref: '#/components/schemas/EmbeddedJsonContent'
    ContentXML:
      properties:
        contentXML:
          $ref: '#/components/schemas/EmbeddedXMLContent'
    EmbeddedJsonContent:
      oneOf: null
    EmbeddedXMLContent:
      oneOf: null
    Descriptor:
      properties:
        language:
          type: string
        explicitAddress:
          $ref: '#/components/schemas/ExplicitAddress'
      additionalProperties: false
      required:
      - language
      - explicitAddress
    ExplicitAddress:
      properties:
        explicitAddressScheme:
          type: string
        explicitAddressValue:
          type: string
      additionalProperties: false
      required:
      - explicitAddressScheme
      - explicitAddressValue
    DistributionKind:
      type: string
      enum:
      - Report
      - Update
      - Cancel
      - Request
      - Response
      - Dispatch
      - Ack
      - Error
      - SensorConfiguration
      - SensorControl
      - SensorStatus
      - SensorDetection
      - Unknown
      - NoAppropriateDefault
    DistributionStatus:
      type: string
      enum:
      - Actual
      - Exercise
      - System
      - Test
      - Unknown
      - NoAppropriateDefault
    DistributionElement:
      type: object
      title: DistributionElement
      required:
      - messageId
      - sender
      - sentAt
      - kind
      - status
      - recipients
      properties:
        messageId:
          type: string
        sender:
          $ref: '#/components/schemas/sender'
        sentAt:
          type: string
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
        kind:
          type: string
          enum:
          - Report
          - Update
          - Cancel
          - Ack
          - Error
        status:
          type: string
          enum:
          - Actual
          - Exercise
          - System
        recipients:
          type: array
          items:
            $ref: '#/components/schemas/recipient'
          minItems: 1
    sender:
      type: object
      required:
      - name
      - URI
      properties:
        name:
          type: string
        URI:
          type: string
    recipient:
      type: object
      required:
      - name
      - URI
      properties:
        name:
          type: string
        URI:
          type: string
    ReferenceWrapper:
      required:
      - Reference
      properties:
        reference:
          $ref: '#/components/schemas/Reference'
    Reference:
      properties:
        distributionID:
          type: string
      required:
      - distributionID
    emsiWrapper:
      $id: classpath:/json-schema/schema#
      x-id: EMSI.schema.json#
      example: example.json#
      type: object
      title: emsi
      required:
      - emsi
      properties:
        emsi:
          $ref: '#/components/schemas/emsi'
    emsi:
      type: object
      title: Objet emsi
      x-display: expansion-panels
      required:
      - CONTEXT
      - EVENT
      properties:
        CONTEXT:
          $ref: '#/components/schemas/context'
        EVENT:
          $ref: '#/components/schemas/event'
        MISSION:
          type: array
          items:
            $ref: '#/components/schemas/mission'
      example: example.json#/emsi
    context:
      type: object
      title: Contexte
      x-display: expansion-panels
      required:
      - ID
      - MODE
      - MSGTYPE
      properties:
        ID:
          type: string
          title: Identifiant du message
          x-cols: 6
          example: example.json#/emsi/CONTEXT/ID
          description: "A constituer par le r\xE9dacteur du pr\xE9sent EMSI pour \xEA\
            tre unique, il est pr\xE9conis\xE9 de reprendre la valeur du champ messageId\
            \ de l'ent\xEAte RC-DE."
          examples:
          - d350c9d2-9d76-4568-b0b7-a747ffadc949
        MODE:
          type: string
          title: Mode
          x-cols: 6
          example: example.json#/emsi/CONTEXT/MODE
          description: "Valeur constante dans le cadre des \xE9changes LRM-NexSIS\
            \ : ACTUAL"
          enum:
          - ACTUAL
          - EXERCS
          - SYSTEM
          - TEST
          examples:
          - ACTUAL
        MSGTYPE:
          type: string
          title: Type de message
          x-cols: 6
          example: example.json#/emsi/CONTEXT/MSGTYPE
          description: "- A valoriser avec la valeur \"ALERT\" lors du premier \xE9\
            change entre syst\xE8mes.\n- A valoriser avec la valeur constante \"UPDATE\"\
            \ ensuite.\nPeut ne pas \xEAtre interpr\xE9t\xE9 par les LRM."
          enum:
          - ACK
          - ALERT
          - CANCEL
          - ERROR
          - UPDATE
          examples:
          - UPDATE
        CREATION:
          type: string
          title: "Date et heure de cr\xE9ation"
          x-cols: 6
          example: example.json#/emsi/CONTEXT/CREATION
          description: "Obligatoire dans le cadre d'une demande de concours, contient\
            \ la date de cr\xE9ation de la demande de concours dans le syst\xE8me\
            \ du partenaire requ\xE9rant.\nA valoriser avec le m\xEAme horaire que\
            \ dateTimeSent dans le message RC-DE associ\xE9."
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:25:54+02:00'
        LINK:
          type: array
          items:
            $ref: '#/components/schemas/link'
        LEVEL:
          type: string
          title: Niveau
          x-cols: 6
          example: example.json#/emsi/CONTEXT/LEVEL
          description: A valoriser avec la valeur constante "OPR" dans le cadre du
            message EMSI-EO
          enum:
          - STRTGC
          - OPR
          - TACTCL
          examples:
          - OPR
        SECLASS:
          type: string
          title: Niveau de classification
          x-cols: 6
          example: example.json#/emsi/CONTEXT/SECLASS
          description: Optionnel
          enum:
          - CONFID
          - RESTRC
          - SECRET
          - TOPSRT
          - UNCLAS
          - UNMARK
          examples:
          - RESTRC
        FREETEXT:
          type: string
          title: Texte libre
          x-cols: 6
          example: example.json#/emsi/CONTEXT/FREETEXT
          description: Texte libre, optionnel
          examples:
          - "Contexte de grand incendie \xE0 Nantes"
        ORIGIN:
          $ref: '#/components/schemas/origin'
        EXTERNAL_INFO:
          type: array
          items:
            $ref: '#/components/schemas/externalInfo'
        URGENCY:
          type: string
          title: "Niveau d'urgence de l'\xE9v\xE9nement"
          x-cols: 6
          example: example.json#/emsi/CONTEXT/URGENCY
          description: "Niveau d'urgence pour l'affaire en cours\nDans le cadre des\
            \ \xE9changes LRM-NexSIS, optionnel"
          enum:
          - URGENT
          - NOT_URGENT
          examples:
          - URGENT
      example: example.json#/emsi/CONTEXT
    event:
      type: object
      title: Evenement
      x-display: expansion-panels
      required:
      - ID
      properties:
        ID:
          type: string
          title: Identifiant local de l'affaire
          x-cols: 6
          example: example.json#/emsi/EVENT/ID
          description: "Identifiant local de l'affaire dans le syst\xE8me du partenaire\
            \ emetteur"
          examples:
          - FR:NEXSIS:44:CGO:20231027_00002
        NAME:
          type: string
          title: "Nom donn\xE9 \xE0 l'\xE9v\xE9nement"
          x-cols: 6
          example: example.json#/emsi/EVENT/NAME
          description: Optionnel
          examples:
          - Grand Incendie Nantes
        MAIN_EVENT_ID:
          type: string
          title: Identifiant de l'affaire
          x-cols: 6
          example: example.json#/emsi/EVENT/MAIN_EVENT_ID
          description: "Identifiant d\u2019affaire partag\xE9 issu du message RC-EDA\
            \ transmis en amont\nNB : Dans le cas d\u2019un partage initi\xE9 par\
            \ un SAMU, on peut avoir EVENT.ID = EVENT.MAIN_EVENT_ID"
          examples:
          - samuA:CA126B445579GD4A67AV
        ETYPE:
          $ref: '#/components/schemas/etype'
        SOURCE:
          type: string
          title: Source
          x-cols: 6
          example: example.json#/emsi/EVENT/SOURCE
          description: Optionnel
          enum:
          - COMFOR
          - HUMDED
          - HUMOBS
          - SENSOR
          examples:
          - HUMOBS
        SCALE:
          type: string
          title: "Echelle de s\xE9v\xE9rit\xE9 de l'environnement"
          x-cols: 6
          example: example.json#/emsi/EVENT/SCALE
          description: Optionnel
          enum:
          - '1'
          - '2'
          - '3'
          - '4'
          - '5'
          examples:
          - 2
        CERTAINTY:
          type: integer
          title: "Fiabilit\xE9"
          x-cols: 6
          example: example.json#/emsi/EVENT/CERTAINTY
          description: "Prend une valeur enti\xE8re entre 0 et 100\nOptionnel"
          examples:
          - 100
        DECL_DATIME:
          type: string
          title: "Date de d\xE9claration de l'event"
          x-cols: 6
          example: example.json#/emsi/EVENT/DECL_DATIME
          description: "Dans le cadre d'une demande de concours, ce champ est valoris\xE9\
            \ avec la date/heure de cr\xE9ation de l'affaire ou de l'op\xE9ration.\n\
            NexSIS transmettra la date/heure de cr\xE9ation de l'op\xE9ration dans\
            \ ses syst\xE8mes (qui peut diverger de la date/heure de cr\xE9ation de\
            \ l'affaire)"
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:24:50+02:00'
        OCC_DATIME:
          type: string
          title: "D\xE9crit la date et le lieu de l'\xE9v\xE9nement"
          x-cols: 6
          example: example.json#/emsi/EVENT/OCC_DATIME
          description: "Dans le cadre d'une demande de concours, ce champ est valoris\xE9\
            \ avec la date de la premi\xE8re alerte ou la date \xE9valu\xE9e de d\xE9\
            but de la situation d'urgence.\nPar exemple :\nSi un incendie est d\xE9\
            clar\xE9 est 9h02, il a pu d\xE9marr\xE9 \xE0 8h55 par exemple.\nNB :\
            \ temporairement, NexSIS renseignera ce champ avec la date de r\xE9ception\
            \ de l'alerte initiale"
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:20:50+02:00'
        OBS_DATIME:
          type: string
          title: "Date \xE0 laquelle l'observation la plus r\xE9cente a \xE9t\xE9\
            \ r\xE9alis\xE9e"
          x-cols: 6
          example: example.json#/emsi/EVENT/OBS_DATIME
          description: "Ce champ est id\xE9alement \xE0 valoriser avec la date/heure\
            \ \xE0 laquelle l'observation de la situation d'urgence de l'affaire la\
            \ plus r\xE9cente a \xE9t\xE9 r\xE9alis\xE9e.\nNexSIS transmettra la date/heure\
            \ d'envoi de la demande de concours dans son syst\xE8me.\nNB : temporairement,\
            \ NexSIS renseignera ce champ avec la date de r\xE9ception de l'alerte\
            \ initiale"
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:26:00+02:00'
        STATUS:
          type: string
          title: Status
          x-cols: 6
          example: example.json#/emsi/EVENT/STATUS
          description: "Permet de d\xE9crire le status de l'affaire en cours.\nCe\
            \ champ suit une nomenclature EMSI. (COM = event complete, IPR = event\
            \ in progress, NST = event not started, STOP = STOP = event under control,\
            \ no need for additional resource)\nDans le cadre d'une op\xE9ration :\n\
            - si l'op\xE9ration est encore en cours : rensigner 'IPR',\n- si le dispatching\
            \ de moyens est encore en cours ou que seulement des qualifications d'alertes\
            \ ont \xE9t\xE9 \xE9chang\xE9es sans aucune d\xE9cision de r\xE9gulation\
            \ 'NST',\n- si l'op\xE9ration est en pause/veille : 'STOP'\n- si le message\
            \ d'\xE9change op\xE9rationnel d\xE9crit une fin d'op\xE9ration, \xE0\
            \ renseigner avec 'COM'\nUn message EMSI-EO sans RESSOURCE ni "
          enum:
          - COM
          - IPR
          - NST
          - STOP
          examples:
          - IPR
        RISK_ASSESMENT:
          type: string
          title: "Pr\xE9diction sur le risque d'\xE9volution de l'event"
          x-cols: 6
          example: example.json#/emsi/EVENT/RISK_ASSESMENT
          description: Optionnel
          enum:
          - NCREA
          - DECREA
          - STABLE
          examples:
          - STABLE
        REFERENCE:
          type: array
          items:
            $ref: '#/components/schemas/reference'
        CASUALTIES:
          type: array
          items:
            $ref: '#/components/schemas/casualties'
        EVAC:
          type: array
          items:
            $ref: '#/components/schemas/evac'
        EGEO:
          type: array
          items:
            $ref: '#/components/schemas/egeo'
        CAUSE:
          type: string
          title: Cause
          x-cols: 6
          example: example.json#/emsi/EVENT/CAUSE
          description: Optionnel
          enum:
          - ACC
          - DEL
          - NAT
          examples:
          - ACC
        FREETEXT:
          type: string
          title: Texte libre
          x-cols: 6
          example: example.json#/emsi/EVENT/FREETEXT
          description: Optionnel
          examples:
          - "Maison sur le c\xF4t\xE9 droit de la route"
      example: example.json#/emsi/EVENT
    mission:
      type: object
      title: Missions
      x-display: expansion-panels
      required:
      - TYPE
      properties:
        TYPE:
          type: string
          title: Type
          x-cols: 6
          example: example.json#/emsi/MISSION/0/TYPE
          description: "Le champ MISSION TYPE permet d'identifier l'effet \xE0 obtenir\
            \ souhait\xE9 \xE0 partir de la combinaison du code ACTOR et du code TYPE.\n\
            => La table de transcodage permettant d'identifier les concourants et\
            \ les effets \xE0 obtenir \xE0 partir d'un code EMSI est fournie en annexe\
            \ \"R\xE9f\xE9rentiel Effets \xE0 Obtenir - correspondance EMSI\".\nDans\
            \ le cadre d'une r\xE9ponse \xE0 DC :\n- reprendre le type de la DC si\
            \ le code r\xE9ponse choisi est vien \"VALIDE\"\nDans le cadre d'une mission\
            \ d\xE9crivant les op\xE9rations en cours :\n- reprendre la nomenclature\
            \ EMSI pour caract\xE9riser la mission en cours."
          enum:
          - C2
          - CBRN
          - FF
          - FSTT
          - GEN
          - INT
          - MAC
          - MIL
          - NET
          - OPR
          - POL
          - REC
          - RSC
          - SAV
          - SCS
          - SOC
          - C2/DEBRIF
          - C2/DNRSKA
          - C2/INASSM
          - C2/OIC
          - C2/POA
          - C2/THRTAS
          - CBRN/CBRNCH
          - CBRN/CBRNDC
          - CBRN/NTRCH
          - CBRN/NUCWS
          - FF/IN
          - FF/OA
          - FF/SALVAG
          - FF/STR
          - FF/TRP
          - FSTT/DI
          - FSTT/RRHAZ
          - FSTT/TA
          - GEN/AIRLAU
          - GEN/ASSMBL
          - GEN/CRWDCT
          - GEN/DEMO
          - GEN/DEPLOY
          - GEN/DSTRBT
          - GEN/FINANC
          - GEN/MARKNG
          - GEN/MOVE
          - GEN/RECVRN
          - GEN/RECVRY
          - GEN/REDPLN
          - GEN/REORGN
          - GEN/REPAIR
          - GEN/RESPLN
          - GEN/RESTNG
          - GEN/RETIRE
          - GEN/RLFPLC
          - GEN/RNDZVS
          - GEN/SCNMNG
          - GEN/SECRNG
          - GEN/STNGUP
          - GEN/SUPRTN
          - GEN/TRNSPN
          - INT/BIOSMP
          - INT/CHMSMP
          - INT/IDENT
          - INT/ILLUMN
          - INT/LOCTNG
          - INT/NUCSMP
          - INT/OBSRNG
          - INT/PLUMOD
          - INT/PTRLNG
          - INT/RECCE
          - INT/SRVMET
          - INT/SRVSEN
          - INT/WITNSN
          - MAC/AII
          - MAC/COL
          - MIL/BCESC
          - MIL/BLOCKN
          - MIL/BOMBNG
          - MIL/CAPTUR
          - MIL/CTRATK
          - MIL/DEFEND
          - MIL/DISENG
          - MIL/DIVRSN
          - MIL/DLBATK
          - MIL/DSRPTN
          - MIL/ENVLPN
          - MIL/FIX
          - MIL/HARASS
          - MIL/HIDE
          - MIL/HLDDEF
          - MIL/HLDOFF
          - MIL/INFLTN
          - MIL/INTCPN
          - MIL/INTDCT
          - MIL/MASFOR
          - MIL/MIL
          - MIL/WPNFIR
          - NET/COMDEA
          - NET/DATTRF
          - NET/NETJAM
          - NET/NETSEI
          - NET/SGNC
          - NET/SGNLE
          - POL/NTRCOM
          - POL/NTREXP
          - POL/SCNMNG
          - POL/SCNPRS
          - POL/SHELTR
          - POL/SUSHOS
          - POL/WITDRL
          - REC/CLROBS
          - REC/COMACT
          - REC/COMRES
          - REC/CONSTN
          - REC/ENGCN
          - REC/ENGCNN
          - REC/PROCUR
          - REC/PRVACC
          - REC/PRVAGR
          - REC/PRVBDD
          - REC/PRVCMP
          - REC/PRVCNS
          - REC/PRVDCN
          - REC/PRVEDU
          - REC/PRVHLT
          - REC/PRVHSN
          - REC/PRVINF
          - REC/PRVLND
          - REC/PRVRPR
          - REC/PRVSCY
          - REC/PRVSHL
          - REC/PRVSTG
          - REC/PRVTRS
          - REC/PSO
          - REC/SPLLDB
          - REC/SPLWAT
          - REC/UTILTY
          - REC/WATER
          - RSC/COVERN
          - RSC/FRFGTN
          - RSC/MEDEVC
          - RSC/SAR
          - SAV/AR
          - SAV/ASC
          - SAV/RHD
          - SAV/RTA
          - SAV/SARCSL
          - SAV/SARHHA
          - SAV/SRW
          - SAV/USAR
          - SAV/UW
          - SCS/EDU
          - SOC/CNDCNF
          - SOC/CNDMED
          - SOC/CNDRCR
          - SOC/CNDSCL
          - SOC/CNDSPT
          - SOC/ISSMDA
          - SOC/ISSMDD
          - SOC/ISSPRS
          - SOC/MN
          - SOC/PUBMDA
          - SOC/PUBMDD
          - SOC/PUBPRS
          examples:
          - SAV/ASC
        FREETEXT:
          type: string
          title: Texte libre
          x-cols: 6
          example: example.json#/emsi/MISSION/0/FREETEXT
          description: "Contient des commentaires relatifs aux objectifs et  moyens\
            \ sollicit\xE9s dans le cadre de la demande de concours. Les \xE9quipements\
            \ suppl\xE9mentaires souhait\xE9s ou le nom/ pr\xE9nom des patients \xE0\
            \ prendre en charge peuvent \xEAtre explicitement indiqu\xE9s ici."
          examples:
          - None
        ID:
          type: string
          title: Identifiant de la mission
          x-cols: 6
          example: example.json#/emsi/MISSION/0/ID
          description: "Contient un identifiant de demande de concours unique. Cet\
            \ identifiant sera r\xE9utilisable par le partenaire pour r\xE9pondre\
            \ \xE0 cette demande.\nIdentifiant unique de la mission dans le syst\xE8\
            me du partenaire la conduisant."
          examples:
          - /FF#bb511708-b004-4d7e-8820-1d56c19f1823
        ORG_ID:
          type: string
          title: "Identifiant de l'organisation propri\xE9taire"
          x-cols: 6
          example: example.json#/emsi/MISSION/0/ORG_ID
          description: "Indique l'organisation du partenaire concern\xE9 par la Demande\
            \ de Concours (voir DSF 8.4). Le code CRRA ou le code du SIS peut \xEA\
            tre utilis\xE9.\nIndique l'organisation du service r\xE9alisant la mission.\
            \ Dans le cas d'une r\xE9ponse, c'est l'organisation du concourant qui\
            \ doit \xEAtre indiqu\xE9e.\nSe r\xE9f\xE9rer au DSF pour la structure\
            \ norm\xE9e des organisations\nLe format est le suivant {pays}:{domaine}:{code\
            \ d\xE9partement}:{organisation}:{structure interne}*:{unit\xE9 fonctionnelle}*."
          examples:
          - FR:Administration:44:CGO
        NAME:
          type: string
          title: Nom de la mission
          x-cols: 6
          example: example.json#/emsi/MISSION/0/NAME
          description: "Le nom de la mission est construit \xE0 partir de l'expression\
            \ r\xE9guli\xE8re suivante :\n\"#DEMANDE_CONCOURS#\"{libelle_cadre_conventionnel}\"\
            #\"{code_cadre_conventionnel}\"#\"\no\xF9 le code_cadre_conventionnel\
            \ est issue d'une nomenclature CISU-Cadre Conventionnel (A Venir)\nNB\
            \ : ce champ est d\xE9tourn\xE9 par rapport au standard EMSI pour permettre\
            \ l'expression d'une demande de concours et indiquer le cadre conventionnel\
            \ dans lequel elle est effectu\xE9e.\nPour une r\xE9ponse \xE0 demande\
            \ de concours :\n- Le nom de la mission est construit \xE0 partir de l'expression\
            \ r\xE9guli\xE8re suivante :\n\"#REPONSE_DEMANDE_CONCOURS#\"{code_reponse}\"\
            #\"\no\xF9 le code_reponse peut prendre les valeurs ACCEPTE, REFUS, PARTIELLE,\
            \ DIVERGENTE\n- sinon libre"
          examples:
          - "Secours \xE0 Incendie"
        STATUS:
          type: string
          title: Status de la mission
          x-cols: 6
          example: example.json#/emsi/MISSION/0/STATUS
          description: "Les valeurs possibles avec lesquelles valoriser ce champ sont\
            \ d\xE9taill\xE9es au sein d'une nomenclature EMSI\n- ABO : mission refus\xE9\
            e (ABOrted)\n- CANCLD : mission annul\xE9e (CANCeLeD)**\n- NST : mission\
            \ non d\xE9but\xE9 pour le m\xE9tier (Not STarted)\n- IPR :  mission d\xE9\
            but\xE9 pour le m\xE9tier (In PRogress). la valeur IPR peut \xEAtre suivi\
            \ d'une valeur num\xE9rique de 00 \xE0 100 (IPRnn) sp\xE9cifiant le degr\xE9\
            \ d'avancement de la mission. Ce principe n'est pas retenu au sein de\
            \ NexSIS qui ne transmettra pas d'indication sur le degr\xE9 d'avancement\
            \ de la mission via ce champ.\n- PAU : \xE9v\xE9nement arr\xEAt\xE9, en\
            \ pause pour m\xE9tier, pas de besoin suppl\xE9mentaire\n- COM : \xE9\
            v\xE9nement termin\xE9 pour le m\xE9tier (COMplete)\nLe status de la mission\
            \ et celui des RESSOURCE associ\xE9es doit \xEAtre coh\xE9rent et transcodable\
            \ avec un status ANTARES (voir DSF)\n\nDans le cas d'un objet MISSION\
            \ g\xE9n\xE9rique de r\xE9ponse \xE0 demande de concours, le champ doit\
            \ \xEAtre valoris\xE9 \xE0 \"NST\""
          enum:
          - ABO
          - NST
          - CANCLD
          - COM
          - IPR
          - PAU
          examples:
          - IPR
        START_TIME:
          type: string
          title: "D\xE9but de la mission"
          x-cols: 6
          example: example.json#/emsi/MISSION/0/START_TIME
          description: "- Dans le cadre d'une r\xE9ponse \xE0 Demande de Concours\n\
            Horraire cible pour l'arriv\xE9e sur les lieux d\xE9crites (peut diverger\
            \ de l'horaire demand\xE9)\n- Dans le cadre d'une mission d\xE9crivant\
            \ les op\xE9rations en cours :\nHoraire effectif de d\xE9but de la mission"
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:25:00+02:00'
        END_TIME:
          type: string
          title: Fin de la mission
          x-cols: 6
          example: example.json#/emsi/MISSION/0/END_TIME
          description: "A valoriser selon la cat\xE9gorie de mission :\n- Dans le\
            \ cadre d'une mission de r\xE9ponse \xE0 demande de concours : ne pas\
            \ renseigner\n- Dans le cadre d'une mission d\xE9crivant les op\xE9rations\
            \ en cours :\n Si c'est un d\xE9placement, l'heure d'arriv\xE9e, si c'est\
            \ une prise en charge patient/victime, la fin de la prise en charge."
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:55:00+02:00'
        RESOURCE_ID:
          type: string
          title: "Ressource engag\xE9e"
          x-cols: 6
          example: example.json#/emsi/MISSION/0/RESOURCE_ID
          description: "Liste des identifiants des ressources engag\xE9es dans la\
            \ mission (voire RESSOURCE.ID)"
          examples:
          - 77_45102#VSAV 1#
        PARENT_MISSION_ID:
          type: array
          items:
            type: string
            title: Missions parentes
            x-cols: 6
            example: example.json#/emsi/MISSION/0/PARENT_MISSION_ID/0
            description: "Dans le cadre d'une demande de concours, ne doit pas \xEA\
              tre renseign\xE9\nLa mission peut d\xE9j\xE0 \xEAtre rattach\xE9e \xE0\
              \ des missions filles mais leurs d\xE9tails ne doivent pas \xEAtre n\xE9\
              cessaires pour traiter la demande de concours dans le syst\xE8me du\
              \ partenaire.\nCf. DSF pour l'organisation liens entre MISSION (sous-section\
              \ \"D\xE9coupage de l'op\xE9ration en missions\")"
            examples:
            - None
        CHILD_MISSION_ID:
          type: array
          items:
            type: string
            title: Missions filles
            x-cols: 6
            example: example.json#/emsi/MISSION/0/CHILD_MISSION_ID/0
            description: "Cf. DSF pour l'organisation liens entre MISSION (sous-section\
              \ \"D\xE9coupage de l'op\xE9ration en missions\")"
            examples:
            - None
        MAIN_MISSION_ID:
          type: string
          title: Mission principale
          x-cols: 6
          example: example.json#/emsi/MISSION/0/MAIN_MISSION_ID
          description: "- Dans le cas d'une mission g\xE9n\xE9rique de r\xE9ponse\
            \ \xE0 demande de concours, indiquer l'ID de la mission g\xE9n\xE9rique\
            \ utilis\xE9e pour mod\xE9liser la demande de concours\n- Dans le cas\
            \ d'une mission d\xE9clench\xE9e dans le cadre d'une r\xE9ponse \xE0 demande\
            \ de concours, l'ID de la mission g\xE9n\xE9rique de r\xE9ponse peut \xEA\
            tre utilis\xE9e dans ce champ pour indiquer qu'elle est li\xE9e \xE0 une\
            \ r\xE9ponse"
          examples:
          - /FF#bb511708-b004-4d7e-8820-1d56c19f1855
        POSITION:
          $ref: '#/components/schemas/position'
        PRIORITY:
          type: string
          title: "Priorit\xE9 de la mission"
          x-cols: 6
          example: example.json#/emsi/MISSION/0/PRIORITY
          description: "Indique une \xE9chelle de priorit\xE9 pour la demande de concours.\
            \ Dans le cadre du standard EMSI, cette \xE9chelle doit \xEAtre comprise\
            \ entre 0 et 5. Ce champ peut ne pas \xEAtre interpr\xE9t\xE9 ni aliment\xE9\
            \ par les LRMs.\nDans le cadre d'un \xE9change des op\xE9rations, optionnel.\
            \ Le champ peut ne pas \xEAtre \xE9mis ni interpr\xE9t\xE9."
          enum:
          - '0'
          - '1'
          - '2'
          - '3'
          - '4'
          - '5'
          examples:
          - 5
      example: example.json#/emsi/MISSION/0
    link:
      type: object
      title: Lien
      x-display: expansion-panels
      required:
      - ID
      properties:
        ID:
          type: string
          title: ID
          x-cols: 6
          example: example.json#/emsi/CONTEXT/LINK/0/ID
          description: "A renseigner avec l'identifiant local de l'affaire du partenaire\
            \ requ\xE9rant"
          examples:
          - samuA:CA126B445579GD4A67AV
        LINK_ROLE:
          type: string
          title: "R\xF4le du lien"
          x-cols: 6
          example: example.json#/emsi/CONTEXT/LINK/0/LINK_ROLE
          description: "Optionnel : \xE0 valoriser avec la constante \"SPRSDS\" en\
            \ EMSI-EO et avec le libell\xE9 ADDSTO en EMSI-DC"
          enum:
          - ADDSTO
          - SPRSDS
          examples:
          - ADDSTO
      example: example.json#/emsi/CONTEXT/LINK/0
      examples:
      - ID: samuA:CA126B445579GD4A67AV
        LINK_ROLE: ADDSTO
    origin:
      type: object
      title: Origine
      x-display: expansion-panels
      required: []
      properties:
        ORG_ID:
          type: string
          title: Origine ID
          x-cols: 6
          example: example.json#/emsi/CONTEXT/ORIGIN/ORG_ID
          description: "Optionnel, identifiant du service \xE0 l'origine de l'EMSI\n\
            Se r\xE9f\xE9rer au DSF pour la structure norm\xE9e des organisations\n\
            Le format est le suivant {pays}.{domaine}.{code d\xE9partement}.{organisation}.{structure\
            \ interne}*.{unit\xE9 fonctionnelle}*."
          examples:
          - FR:Administration:44:CGO
        USER_ID:
          type: string
          title: ID d'utilisateur de l'origine
          x-cols: 6
          example: example.json#/emsi/CONTEXT/ORIGIN/USER_ID
          description: "Optionnel, identifiant de l'op\xE9rateur du service \xE0 l'origine\
            \ de l'EMSI"
          examples:
          - /FF#bb511708-b004-4d7e-8820-1d56c19f1823
        NAME:
          type: string
          title: 'Nom Origine '
          x-cols: 6
          example: example.json#/emsi/CONTEXT/ORIGIN/NAME
          description: Optionnel
          examples:
          - CGO 44
      example: example.json#/emsi/CONTEXT/ORIGIN
      examples:
      - ORG_ID: FR:Administration:44:CGO
        USER_ID: /FF#bb511708-b004-4d7e-8820-1d56c19f1823
        NAME: CGO 44
    externalInfo:
      type: object
      title: 'Informations exterieures '
      x-display: expansion-panels
      required:
      - URI
      properties:
        FREETEXT:
          type: string
          title: 'Texte libre '
          x-cols: 6
          example: example.json#/emsi/CONTEXT/EXTERNAL_INFO/0/FREETEXT
          description: Optionnel
          examples:
          - None
        URI:
          type: string
          title: "URI informations ext\xE9rieures"
          x-cols: 6
          example: example.json#/emsi/CONTEXT/EXTERNAL_INFO/0/URI
          description: Optionnel
          examples:
          - 289d6939-d225-4c71-9a56-68c03ada2f5e
        TYPE:
          type: string
          title: Type
          x-cols: 6
          example: example.json#/emsi/CONTEXT/EXTERNAL_INFO/0/TYPE
          description: Optionnel
          enum:
          - MANUAL
          - MAP
          - OTHER
          - PHOTO
          - WEBSIT
          examples:
          - SPRSDS
      example: example.json#/emsi/CONTEXT/EXTERNAL_INFO/0
      examples:
      - FREETEXT: None
        URI: 289d6939-d225-4c71-9a56-68c03ada2f5e
        TYPE: SPRSDS
    etype:
      type: object
      title: "Type de l'\xE9v\xE9nement"
      x-display: expansion-panels
      required:
      - CATEGORY
      - ACTOR
      - LOCTYPE
      properties:
        CATEGORY:
          type: array
          items:
            type: string
            title: "Cat\xE9gorie d'\xE9v\xE9nement"
            x-cols: 6
            example: example.json#/emsi/EVENT/ETYPE/CATEGORY/0
            description: "Le champ peut ne pas \xEAtre interpr\xE9t\xE9 ou renseign\xE9\
              \ avec une valeur comme 'UKN' = 'UNKOWN'"
            enum:
            - ASB
            - ASR
            - EXP
            - FIR
            - FLD
            - GND
            - HLT
            - POL
            - PSW
            - TRP
            - ASB/ABV
            - ASR/ATM
            - ASR/HGT
            - ASR/ICE
            - ASR/MAR
            - ASR/SIL
            - ASR/TRP
            - ASR/UDG
            - ASR/WAT
            - EXP/AER
            - EXP/AMM
            - EXP/BLEVE
            - EXP/CHM
            - EXP/CYL
            - EXP/DST
            - EXP/FRW
            - EXP/GAS
            - EXP/HGHFLM
            - EXP/HPP
            - EXP/IMP
            - EXP/LPG
            - EXP/NUK
            - EXP/PRD
            - EXP/UKN
            - FIR/CLA
            - FIR/CLB
            - FIR/CLC
            - FIR/CLD
            - FIR/UKN
            - FLD/FLS
            - FLD/PLN
            - FLD/TID
            - GND/AVL
            - GND/EQK
            - GND/GEY
            - GND/LDS
            - GND/MUD
            - GND/SUB
            - GND/VUL
            - HLT/EPI
            - HLT/FMN
            - HLT/NDS
            - POL/BIO
            - POL/CHM
            - POL/NUK
            - POL/RAD
            - PSW/ALM
            - PSW/ASY
            - PSW/DEM
            - PSW/IMM
            - PSW/MEV
            - PSW/MIS
            - PSW/PKG
            - PSW/PRO
            - PSW/PRSUIT
            - PSW/RIOT
            - PSW/SUS
            - PSW/WNG
            - TRP/BRK
            - TRP/COL
            - TRP/CRS
            examples:
            - FIR
        ACTOR:
          type: array
          items:
            type: string
            title: Acteurs
            x-cols: 6
            example: example.json#/emsi/EVENT/ETYPE/ACTOR/0
            description: "Dans de futures versions de NexSIS, les demandes de concours\
              \ seront diffus\xE9es \xE0 plusieurs partenaires. Seul le syst\xE8me\
              \ de la force concern\xE9e par la demande de concours devra r\xE9pondre\
              \ effectivement \xE0 la demande. Ce syst\xE8me de la force concern\xE9\
              e sera identifi\xE9 comme le \"concourant\" \xE0 la demande de concours.\n\
              Le libell\xE9 du champ ACTOR permet d'identifier le concourant souhait\xE9\
              \ dans la demande de concours. Pour les premi\xE8res impl\xE9mentations\
              \ du contrat d'interface 15-18, il n'y a pas de n\xE9cessit\xE9 pour\
              \ les syst\xE8mes r\xE9cepteurs de filtrer les demandes de concours\
              \ re\xE7ues via le Hub Sant\xE9.\nLe champ MISSION TYPE permet en compl\xE9\
              ment d'identifier l'effet \xE0 obtenir souhait\xE9 \xE0 partir de la\
              \ combinaison du code ACTOR et du code TYPE.\nLe transcodage entre ces\
              \ deux nomenclature est d\xE9crit dans l'annexe \"R\xE9f\xE9rentiel\
              \ Effets \xE0 Obtenir - correspondance EMSI\""
            enum:
            - ANI
            - BEV
            - PPL
            - VEH
            - ANI/CON
            - ANI/DEA
            - ANI/DGR
            - ANI/FRM
            - ANI/HRD
            - ANI/INJ
            - ANI/LIV
            - ANI/PET
            - ANI/PRO
            - ANI/SPC
            - ANI/WLD
            - BEV/ASR
            - BEV/IND
            - BEV/NRES
            - BEV/OFF
            - BEV/OTH
            - BEV/RESDW
            - BEV/RESIN
            - BEV/RESINT
            - BEV/RESOTH
            - BEV/SHP
            - PPL/1
            - PPL/ADU
            - PPL/CHD
            - PPL/CNT
            - PPL/DED
            - PPL/EVC
            - PPL/GND
            - PPL/GRP
            - PPL/HST
            - PPL/INT
            - PPL/OTH
            - PPL/PRS
            - PPL/SNS
            - PPL/VIO
            - PPL/VLN
            - PPL/WTN
            - PPL/CHD/BAB
            - PPL/CHD/CHILD
            - PPL/CHD/INF
            - PPL/CHD/YOUTH
            - PPL/GND/FML
            - PPL/GND/MAL
            - PPL/GND/UND
            - PPL/HST/PCF
            - PPL/HST/SUI
            - PPL/HST/THT
            - PPL/HST/WPN
            - PPL/PRS/CST
            - PPL/PRS/ESC
            - PPL/PRS/HGS
            - PPL/SNS/ETH
            - PPL/SNS/FOR
            - PPL/SNS/LAN
            - PPL/SNS/REL
            - PPL/SNS/VIP
            - PPL/VLN/BLD
            - PPL/VLN/DEF
            - PPL/VLN/DSB
            - PPL/VLN/ELD
            - PPL/VLN/INJ
            - PPL/VLN/LDF
            - PPL/VLN/OBS
            - PPL/VLN/PAT
            - PPL/VLN/PGN
            - PPL/VLN/SLFPRS
            - PPL/VLN/UNC
            - VEH/AIR
            - VEH/ANI
            - VEH/BIC
            - VEH/CAR
            - VEH/EMG
            - VEH/MBK
            - VEH/MIL
            - VEH/OTH
            - VEH/TRK
            - VEH/TRN
            - VEH/VES
            - VEH/AIR/ARM
            - VEH/AIR/FLBA
            - VEH/AIR/FRG
            - VEH/AIR/FXBA
            - VEH/AIR/GLD
            - VEH/AIR/HEL
            - VEH/AIR/HVY
            - VEH/AIR/JET
            - VEH/AIR/LGT
            - VEH/AIR/MIL
            - VEH/AIR/ORD
            - VEH/AIR/OTH
            - VEH/AIR/PAS
            - VEH/AIR/PRBA
            - VEH/AIR/PST
            - VEH/AIR/RKT
            - VEH/AIR/SEA
            - VEH/AIR/SNO
            - VEH/AIR/TNK
            - VEH/AIR/UAV
            - VEH/AIR/ULG
            - VEH/OTH/HIL
            - VEH/OTH/SNO
            - VEH/TRK/ART
            - VEH/TRK/EXC
            - VEH/TRK/HZD
            - VEH/TRK/NHZ
            - VEH/TRK/NUK
            - VEH/TRK/REF
            - VEH/TRK/UND
            - VEH/TRN/3RL
            - VEH/TRN/DSL
            - VEH/TRN/HZD
            - VEH/TRN/LOC
            - VEH/TRN/NHZ
            - VEH/TRN/NUK
            - VEH/TRN/OVH
            - VEH/TRN/PAS
            - VEH/TRN/REF
            - VEH/TRN/STM
            - VEH/TRN/TRM
            - VEH/TRN/UDG
            - VEH/TRN/UND
            - VEH/TRN/VIP
            - VEH/TRN/VLT
            - VEH/VES/AMB
            - VEH/VES/BOT
            - VEH/VES/CNO
            - VEH/VES/CRG
            - VEH/VES/DSL
            - VEH/VES/FLO
            - VEH/VES/FRY
            - VEH/VES/HOV
            - VEH/VES/HZD
            - VEH/VES/JSK
            - VEH/VES/LEI
            - VEH/VES/LIS
            - VEH/VES/MIL
            - VEH/VES/MPW
            - VEH/VES/NHZ
            - VEH/VES/NUK
            - VEH/VES/PAS
            - VEH/VES/POL
            - VEH/VES/PTL
            - VEH/VES/RSC
            - VEH/VES/SAI
            - VEH/VES/SBM
            - VEH/VES/SINK
            - VEH/VES/SPC
            - VEH/VES/STE
            - VEH/VES/SUNK
            - VEH/VES/UNM
            examples:
            - PPL/GRP
        LOCTYPE:
          type: array
          items:
            type: string
            title: Type de localisation
            x-cols: 6
            example: example.json#/emsi/EVENT/ETYPE/LOCTYPE/0
            description: "Le champ peut ne pas \xEAtre affich\xE9. Par d\xE9faut,\
              \ possible de renvoyer le code \"OTH\" =  \"OTHER\""
            examples:
            - URB/STRT
        ENV:
          type: string
          title: Environnement
          x-cols: 6
          example: example.json#/emsi/EVENT/ETYPE/ENV
          description: Optionnel
          enum:
          - CDIS
          - DIS
          - TER
          - CDIS/RIOT
          - DIS/CBRN
          - DIS/ERTHQK
          - DIS/FIRE
          - DIS/FLOOD
          - DIS/INDHAZ
          - DIS/LNDSLD
          - DIS/PWROUT
          - DIS/RADCNT
          - DIS/SNOW
          - DIS/STCLPS
          - DIS/STORM
          - DIS/TRSPRT
          - DIS/TSNAMI
          examples:
          - CDIS/RIOT
      example: example.json#/emsi/EVENT/ETYPE
    reference:
      type: object
      title: "Lien vers d'autres objets \xE9v\xE9nements EMSI"
      x-display: expansion-panels
      required:
      - ORG_ID
      - OTHER_EVENT_ID
      properties:
        ORG_ID:
          type: string
          title: ID de l'organisation
          x-cols: 6
          example: example.json#/emsi/EVENT/REFERENCE/0/ORG_ID
          description: Identification de l'organisation partenaire
          examples:
          - FR:Administration:44:CGO
        OTHER_EVENT_ID:
          type: array
          items:
            type: string
            title: ID des autres event
            x-cols: 6
            example: example.json#/emsi/EVENT/REFERENCE/0/OTHER_EVENT_ID/0
            description: "Indique d'autres identifiants utilis\xE9s pour l'affaire\
              \ dans le syst\xE8me partenaire"
            examples:
            - FR:NEXSIS:44:CGO:20231027_00002
      example: example.json#/emsi/EVENT/REFERENCE/0
    casualties:
      type: object
      title: Victimes
      x-display: expansion-panels
      required:
      - CONTEXT
      properties:
        CONTEXT:
          type: string
          title: Contexte
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/CONTEXT
          description: "Le champ doit \xEAtre renseign\xE9 mais peut ne pas \xEAtre\
            \ interpr\xE9t\xE9"
          examples:
          - REQ_ACTION
        DATIME:
          type: string
          title: Timestamp du contexte
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/DATIME
          description: Optionnel
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:00:00+02:00'
        DECONT:
          type: integer
          title: "D\xE9contamination"
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/DECONT
          description: Optionnel
          examples:
          - 0
        TRIAGERED:
          type: integer
          title: Triage Rouge
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/TRIAGERED
          description: Optionnel
          examples:
          - 0
        TRIAGEYELLOW:
          type: integer
          title: Jaune
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/TRIAGEYELLOW
          description: Optionnel
          examples:
          - 1
        TRIAGEGREEN:
          type: integer
          title: Vert
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/TRIAGEGREEN
          description: Optionnel
          examples:
          - 0
        TRIAGEBLACK:
          type: integer
          title: Noir
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/TRIAGEBLACK
          description: Optionnel
          examples:
          - 0
        MISSING:
          type: integer
          title: Disparus
          x-cols: 6
          example: example.json#/emsi/EVENT/CASUALTIES/0/MISSING
          description: Optionnel
          examples:
          - 0
      example: example.json#/emsi/EVENT/CASUALTIES/0
      examples:
      - CONTEXT: REQ_ACTION
        DATIME: '2022-09-27T08:00:00+02:00'
        DECONT: 0
        TRIAGERED: 0
        TRIAGEYELLOW: 1
        TRIAGEGREEN: 0
        TRIAGEBLACK: 0
        MISSING: 0
    evac:
      type: object
      title: "Evacu\xE9s"
      x-display: expansion-panels
      required: []
      properties:
        DATIME:
          type: string
          title: timestamp
          x-cols: 6
          example: example.json#/emsi/EVENT/EVAC/0/DATIME
          description: Optionnel
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T10:00:00+02:00'
        DISPLACED:
          type: integer
          title: "d\xE9plac\xE9s"
          x-cols: 6
          example: example.json#/emsi/EVENT/EVAC/0/DISPLACED
          description: Optionnel
          examples:
          - 0
        EVACUATED:
          type: integer
          title: "\xE9vacu\xE9s"
          x-cols: 6
          example: example.json#/emsi/EVENT/EVAC/0/EVACUATED
          description: Optionnel
          examples:
          - 1
      example: example.json#/emsi/EVENT/EVAC/0
      examples:
      - DATIME: '2022-09-27T10:00:00+02:00'
        DISPLACED: 0
        EVACUATED: 1
    egeo:
      type: object
      title: "Localisation de l'\xE9v\xE9nement"
      x-display: expansion-panels
      required:
      - TYPE
      - POSITION
      properties:
        DATIME:
          type: string
          title: "Date des derni\xE8res remont\xE9es de localisation"
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/DATIME
          description: "Optionnel\nLa localisation de l'affaire est transmise en amont\
            \ dans un message RC-EDA et le lieu souhait\xE9 pour l'intervention est\
            \ syst\xE9matiquement repr\xE9cis\xE9 dans un objet MISSION"
          pattern: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}[\-+]\d{2}:\d{2}
          format: date-time
          examples:
          - '2022-09-27T08:26:00+02:00'
        TYPE:
          type: string
          title: Type de localisation
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/TYPE
          description: "Optionnel\nLa localisation de l'affaire est transmise en amont\
            \ dans un message RC-EDA et le lieu souhait\xE9 pour l'intervention est\
            \ syst\xE9matiquement repr\xE9cis\xE9 dans un objet MISSION"
          enum:
          - AIR
          - CMB
          - DGR
          - FLAME
          - GEN
          - PLUME
          - SMOKE
          - VULN
          - AIR/COR
          - AIR/FLDZ
          - AIR/LZ
          - AIR/NOFLZN
          - AIR/PZ
          - AIR/UAVASP
          - CMB/CZ
          - CMB/DNGR
          - CMB/EXTZN
          - CMB/IMPTPT
          - DGR/BIO
          - DGR/BOMB
          - DGR/CBRNHZ
          - DGR/CBRNRSD
          - DGR/CHM
          - DGR/HZD
          - DGR/MIND
          - DGR/NGA
          - DGR/NGACIV
          - DGR/NUKCNL
          - DGR/OBSGEN
          - DGR/PRHBAR
          - DGR/RAD
          - DGR/RADCLD
          - DGR/RSTR
          - DGR/SGA
          - DGR/SITKIL
          - DGR/UNXOD
          - GEN/AOR
          - GEN/ASYGEN
          - GEN/ASYSPL
          - GEN/BDYOR
          - GEN/BDYPOA
          - GEN/BDYPT
          - GEN/CKPGEN
          - GEN/CNTPTL
          - GEN/COLDZ
          - GEN/COMCKP
          - GEN/COMLOW
          - GEN/COMMZ
          - GEN/COMUP
          - GEN/CONTAR
          - GEN/CORDON
          - GEN/CRDPNT
          - GEN/DIVRT
          - GEN/DROPPT
          - GEN/ENTPT
          - GEN/EVENT
          - GEN/EXITPT
          - GEN/FWCTPT
          - GEN/HOTZ
          - GEN/INCGRD
          - GEN/LA
          - GEN/LIMARE
          - GEN/LOCAT
          - GEN/MSR
          - GEN/PSSGPT
          - GEN/PTINT
          - GEN/RCNSAR
          - GEN/RNDZPT
          - GEN/ROUTE
          - GEN/SAFERT
          - GEN/SAFZ
          - GEN/SARPNT
          - GEN/SEARAR
          - GEN/SPRISK
          - GEN/STRTPT
          - GEN/SUPARE
          - GEN/SUPPT
          - GEN/TRSTRT
          - GEN/WARMZ
          examples:
          - HLT
        WEATHER:
          type: array
          items:
            type: string
            title: "Condition m\xE9t\xE9o"
            x-cols: 6
            example: example.json#/emsi/EVENT/EGEO/0/WEATHER/0
            description: "Optionnel\nLa localisation de l'affaire est transmise en\
              \ amont dans un message RC-EDA et le lieu souhait\xE9 pour l'intervention\
              \ est syst\xE9matiquement repr\xE9cis\xE9 dans un objet MISSION"
            enum:
            - HUM
            - ICY
            - TDS
            - TMP
            - VIS
            - WDS
            - WIN
            - HUM/CORECT
            - HUM/DRZLE
            - HUM/FOG
            - HUM/RAIN
            - HUM/RAINSR
            - HUM/THSTRN
            - ICY/BLWSNW
            - ICY/CLRICE
            - ICY/CORECT
            - ICY/FDRZLE
            - ICY/FRAIN
            - ICY/FRZFOG
            - ICY/HAIL
            - ICY/ICECRY
            - ICY/ICEPLT
            - ICY/MIXICE
            - ICY/RIMICE
            - ICY/SLEET
            - ICY/SNOW
            - ICY/SNWGRN
            - ICY/SNWSHR
            - TDS/CORECT
            - TDS/LGTNNG
            - TDS/THST
            - VIS/CORECT
            - VIS/HAZE
            - VIS/SMOKE
            - WIN/CORECT
            - WIN/CYCL
            - WIN/DSTDVL
            - WIN/DSTSND
            - WIN/DSTSTR
            - WIN/FNLCLD
            - WIN/HURR
            - WIN/SNDSTR
            - WIN/STORM
            - WIN/TORN
            - WIN/TRST
            - WIN/TYPH
            - WIN/WHIR
            - WIN/WTRSPT
            examples:
            - HUM/RAIN
        FREETEXT:
          type: string
          title: "Description de l'\xE9v\xE9nement"
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/FREETEXT
          description: "Optionnel\nLa localisation de l'affaire est transmise en amont\
            \ dans un message RC-EDA et le lieu souhait\xE9 pour l'intervention est\
            \ syst\xE9matiquement repr\xE9cis\xE9 dans un objet MISSION"
          examples:
          - Un peu de pluie vers 8h
        POSITION:
          $ref: '#/components/schemas/position'
      example: example.json#/emsi/EVENT/EGEO/0
    position:
      type: object
      title: "Position de l'op\xE9ration"
      x-display: expansion-panels
      required:
      - LOC_ID
      properties:
        LOC_ID:
          type: string
          title: ID position
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/LOC_ID
          description: "Optionnel\nLa localisation de l'affaire est transmise en amont\
            \ dans un message RC-EDA et le lieu souhait\xE9 pour l'intervention est\
            \ syst\xE9matiquement repr\xE9cis\xE9 dans un objet MISSION. \nLorsque\
            \ le lieu d'intervention est identique \xE0 celle d'une position de l'affaire\
            \ partag\xE9e dans le message RC-EDA, le champ MISSION.RGEO.POSITION.LOC_ID\
            \ doit \xEAtre aliment\xE9 valoris\xE9 comme le champ eventLocation.locId\
            \ du message RC-EDA envoy\xE9 en amont. "
          examples:
          - 111fb03a-6fd9-41e0-8e81-990c45188887
        NAME:
          type: string
          title: Nom de position
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/NAME
          description: "Optionnel, non utilis\xE9 par NexSIS nom de lieu"
          examples:
          - "Lyc\xE9e Pierre de Coubertin"
        TYPE:
          type: string
          title: Type
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/TYPE
          description: "Optionnel\nDans le cadre de l'interface LRM NexSIS, seul le\
            \ libell\xE9 POINT doit obligatoirement \xEAtre interpr\xE9table par les\
            \ deux partenaires.\nCf. Nomenclature EMSI - POSITION pour plus de d\xE9\
            tails"
          examples:
          - POINT
        HEIGHT_ROLE:
          type: string
          title: Indication sur l'utilisation de la balise altitude
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/HEIGHT_ROLE
          description: Optionnel
          examples:
          - MIN
        COORDSYS:
          type: string
          title: "Syst\xE8me de coordonn\xE9es"
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/COORDSYS
          description: Optionnel
          examples:
          - EPSG-4326
        COORD:
          type: array
          items:
            $ref: '#/components/schemas/coord'
        ADDRESS:
          type: array
          items:
            type: string
            title: Adresse
            x-cols: 6
            example: example.json#/emsi/EVENT/EGEO/0/POSITION/ADDRESS/0
            description: "Optionnel. Dans le cas d'un partage de position, les adresses\
              \ transmises ne sont pas structur\xE9es."
            examples:
            - Nantes centre ville
      example: example.json#/emsi/EVENT/EGEO/0/POSITION
    coord:
      type: object
      title: "Coordonn\xE9es"
      x-display: expansion-panels
      required:
      - LAT
      - LONG
      properties:
        LAT:
          type: number
          title: 'Latitude '
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/COORD/0/LAT
          description: "Optionnel. \nDans le cas o\xF9 aucun LOC_ID n'est transf\xE9\
            r\xE9, permet de localiser le lieu d'intervention souhait\xE9\n"
          examples:
          - '47.221866'
        LONG:
          type: number
          title: Longitude
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/COORD/0/LONG
          description: "Optionnel. Dans le cas o\xF9 aucun LOC_ID n'est transf\xE9\
            r\xE9, permet de localiser le lieu d'intervention souhait\xE9\n"
          examples:
          - '-1.575807'
        HEIGHT:
          type: number
          title: Altitude
          x-cols: 6
          example: example.json#/emsi/EVENT/EGEO/0/POSITION/COORD/0/HEIGHT
          description: "Optionnel. Dans le cas o\xF9 aucun LOC_ID n'est transf\xE9\
            r\xE9, permet de localiser le lieu d'intervention souhait\xE9\n"
          examples:
          - 1
      example: example.json#/emsi/EVENT/EGEO/0/POSITION/COORD/0
      examples:
      - LAT: '47.221866'
        LONG: '-1.575807'
        HEIGHT: 1
